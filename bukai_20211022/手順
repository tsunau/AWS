################
# Prerequisites
################
# VPC、パブリックサブネット、インターネットゲートウェイが作成済み
# EC2はパブリックサブネットにデプロイされていること
# SSH でEC2インスタンスへアクセスできるようにセキュリティグループが設定されていること

################
# procedure
################
# SSH接続後にec2-user からroot へユーザ切替
sudo su - root
# 最新状態へアップデータ
yum -y update
# httpdパッケージ確認
yum info httpd
# Apacheのインストール
yum -y install httpd
# Apacheの起動
systemctl start httpd
# Apacheが起動したか確認
systemctl status httpd
# EC2が再起動した際にApacheも自動起動するように設定
systemctl enable httpd

# HTMLファイルを格納する場所(/var/www/html)へ移動
cd /var/www/html
# HTMLファイル(ファイル名＝index.html)の中身を記述　<https://github.com/tsunau/AWS/blob/public/bukai_20211022/html/index.html>
vi index.html
# 作成したindex.htmlがちゃんとあるか確認
ls -l

# EC2インスタンスのIPアドレスをブラウザで開き、HTTP通信ができていることを確認
## 失敗 ##

# HTTP でEC2インスタンスへアクセスできるようにセキュリティグループを設定

# EC2インスタンスのIPアドレスをブラウザで開き、HTTP通信ができていることを確認
## 成功 ##
